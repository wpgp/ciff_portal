<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="CIFF Portal" />
    <meta name="author" content="SDI Worldpop" />
    <title>CIFF Portal</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="../src/index.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <header>
      <div class="navbar shadow-sm navbar-expand">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Family Health at Subnational Level ?</a>
          <div class="collapse navbar-collapse">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#" id="btnGuide">Guide</a></li>
              <li class="nav-item"><a class="nav-link" href="#" id="btnAbout">About</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <div id="root"></div>

    <div id="modal" class="modal">
      <div class="modal-content">
        <div class="col p-0 m-0">
          <div id="modalTitle" class="float-start"></div>
          <div class="float-end">
            <a href="#" title="Close" id="bclose" style="font-size:large;"><span class="fa fa-times-circle"></span></a>
          </div>
        </div>
        <div id="modalBody"></div>
      </div>
    </div>
  </body>

  <script>
    var modal = document.getElementById("modal");
    var modalTitle = document.getElementById("modalTitle");
    var modalBody = document.getElementById("modalBody")
    var btnAbout = document.getElementById("btnAbout");
    var btnGuide = document.getElementById("btnGuide");
    var btnClose = document.getElementById("bclose");

    var contentAbout;
    var contentGuide;

    fetch('./about.inc').then(resp => resp.text()).then(text => {contentAbout = text});
    fetch('./guide.inc').then(resp => resp.text()).then(text => {contentGuide = text});

    btnAbout.onclick = () => {
      modal.style.display = "block";
      modalTitle.innerHTML = '<h4>About</h4>';
      modalBody.innerHTML = contentAbout;
    };

    btnGuide.onclick = () => {
      modal.style.display = "block";
      modalTitle.innerHTML = '<h4>Guide</h4>';
      modalBody.innerHTML = contentGuide;
    };

    btnClose.onclick = () => {
      modal.style.display = "none";
    };

    window.onclick = (e) => {if (e.target == modal) {modal.style.display = "none"}};
  </script>
</html>
